# 3과목



### 데이터베이스 설계



1. 데이터베이스 설계 순서

   - 요구 조건 분석 - 개념적 설계 - 논리적 설계 - 물리적 설계 - 구현

   - 요개논물구



2. 데이터 모델
   - 개체 : 사람이 생각하는 개념이나 정보 단위
   - 속성 : 데이터의 가장 작은 논리적 단위, 데이터 항목 or 필드
   - 관계 : 개체관의 관계



### 개체

1. 정의 및 특징
   - 유형, 무형의 정보, 사람이 생각하는 개념이나 정보 단위
   - 유일한 식별자에 의해 식별 가능
   - 다른 개체와 하나 이상의 관계가 있음



### 속성



1. 정의 및 특징
   - DB를 구성하는 가장 작은 논리적 단위
   - 데이터 항목 또는 필드
   - 속성의 수를 차수(Degree) 라고함.
   - 튜플의 수는 카디널리티(Cardinality)
2. 분류
   - 기본 속성 : 업무 분석을 통해 정의한 속성
   - 설계 속성 : 설계 과정에서 도출해낸 속성
   - 파생 속성 : 다른 속성에서 영향을 받는 속성

3. 개체 구성 방식에 따른 분류
   - 기본 키 속성
   - 외래 키 속성
   - 일반 속성



### 관계



1. 관계의 형태
   - 1:1
   - 1:N
   - N:M
2. 관계의 종류
   - 종속, 중복, 재귀, 배타



### 식별자

- 하나의 개체 내에서 각각의 인스턴스를 유일하게 구분할 수 있는 구분자
- 모든 개체는 하나 이상의 식별자를 반드시 가져야함

- 주 식별자 : 개체를 대표하는 유일한 식별자, 하나의 개체에 한개만 존재
- 대리 식별자 : 주 식별자의 속성이 두개 이상인 경우 속성들을 하나의 속성으로 묶어 사용하는 식별자



### E-R (개체-관계) 모델



- 사각형 : 개체
- 마름모 : 관계
- 타원 : 속성
- 밑줄 타원 : 기본키 속성
- 복수 타원 : 복합 속성
- 관계 : 개체 관계에 대해 대응 수 기술
- 선 링크 : 개체 타입과 속성 연결
- 이중 타원 : 다중 값 속성



### 까마귀발 표기법



![](../다운로드.png)



I : 필수

O : 선택 (Optional)

< : 다중



### 관계형 데이터베이스 (RDB)



1. 릴레이션의 구조

   - 튜플, 행, 레코드 (가로)

     - 속성의 모임으로 구성됨
     - 파일 구조강 레코드(실제 데이터)와 같은 의미
     - 튜플의 수 = 카디널리티, 기수, 대응수

     - 속성, 열, 필드
       - DB를 구성하는 가장 작은 논리적 단위
       - 파일 구조상 데이터 항목, 필드에 해당
       - 개체의 특성을 기술
       - 속성의 수 = 디그리, 차수

   - 도메인 - 하나의 속성이 가질 수 있는 원자값들의 집합

     - (ex. 속성이 성별일 경우 도메인은 남, 여 밖에 올 수 없다.)

       

2. 릴레이션의 특징
   - 릴레이션에 포함된 튜플(행)들은 모두 다른 값을 가짐.
   - 릴레이션에 포함된 튜플(행) 사이에는 순서가 없음.
   - 릴레이션 스키마를 구성하는 속성(열)간의 순서는 중요하지 안ㅇ흠.
   - 각 속성은 식별을 위해 릴레이션 내에서 유일한 이름을 가짐



* **튜플은 서로 다른 값을 가지고 순서가 없음.**

- **속성은 원자 값을 가지고, 순서가 중요하지 않으며, 유일한 이름을 가짐**





### 키



DB에서 튜플들을 서로 구분할 수 있는 기준이 되는 속성

1. 후보키 (Candidate Key)

   - 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합.
   - 모든 릴레이션에는 반드시 하나 이상의 후보키가 존재함.

   - 유일성 : 하나의 키 값으로 하나의 튜플만을 유일하게 식별할 수 있어야함.
   - 최소성 : 모든 레코드들을 유일하게 식별하는데 꼭 필요한 속성으로만 구성되어야함.

2. 기본키 (Primary key)

   - 후보키 중에서 특별히 선정된 주키(Main key), 중복된 값과 NULL값을 가질 수 없다.
   - 유일성, 최소성을 가짐

3. 대체키

   - 후보키가 둘 이상일때 PK를 제외한 나머지 후보키

4. 슈퍼키

   - 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키
   - 유일성은 만족하나 최소성은 만족시키지 못함

5. 외래키

   - 다른 릴레이션의 기본키를 참조하는 속성, 속성들의 집합



### 무결성



- DB에 저장된 값과 그것이 표현하는 현실세계의 실제 값이 일치하는 정확성을 의미



1. 개체 무결성
   - 기본키를 구성하는 어떤 속성도 NULL값이나 중복값을 가질 수 없음
2. 도메인 무결성
   - 튜플들이 각 속성의 도메인에 지정된 값들만을 가져야함.
3. 참조 무결성
   - 외래키 값은 NULL이거나 참조 릴레이션의 기본키 값과 동일해야함
4. 사용자 정의 무결성
   - 속성값들이 사용자가 정의한 제약 조건에 만족해야함
5. 데이터 무결성 강화
   - 애플리케이션 : 데이터 조작시 무결성 조건을 검증하는 코드를 프로그램에 추가
   - 데이터베이스 트리거 : 트리거 이벤트에 검증 SQL을 추가
   - 제약조건 : DB에 제약조건을 설정해 무결성을 유지



### 관계대수 및 관계해석



1. 관계대수
   - RDB에서 정보를 어떻게 유도하는가를 기술하는 절차적인 언어
   - 순수 관계 연산자 : Select, Project, Join, Division
   - 일반집합 연산자 : Union, Intersection, Difference, Cartesian, Product
   - 





### 정규화

- 하나의 종속성이 하나의 릴레이션에 표현될 수 있도록 분해해가는 과정
- 논리적 설계 단계에서 수행



1. 목적

   - 안정성 및 무결성을 유지

   - 어떠한 릴레이션도 DB에서 표현가능하게 만듬

   - 효과적인 검색 알고리즘 생성

   - 중복을 배제해 이상의 발생 방지

   - 릴레이션 재구성 필요성을 줄임

     

2. 이상(Anomaly)

   - 데이터들이 불필요하게 중복되어 발생하는 현상
   - 삽입 이상 : 데이터 삽입시 원하지 않는 값들도 함께 삽입되는 현상
   - 삭제 이상 : 데이터 삭제시 원하지 않는 값들도 함께 삭제되는 현상
   - 갱신 이상 : 튜플 속성값 갱신시 일부 튜플의 정보만 갱신되는 현상

3. 정규화 과정

   - 제 1정규형 : 모든 도메인이 원자값만으로 되어있는 정규형
   - 제 2정규형 : 부분적 함수 종속을 제거한 정규형
   - 제 3정규형 : 이행적 함수 종속 관계를 만족하지 않는 정규형
   - BCNF 정규형 : 모든 결정자가 후보키인 정규형
   - 제 4정규형 : 다치종속이 성립하는 경우
   - 제 5정규형 : 모든 조인 종속이 R의 후보키를 통해서만 성립되는 정규형

4. 반정규화

   - 성능향상, 편의성 등을 위해 의도적으로 정규화 원칙을 위배하는 행위

5. 반정규화 방법

   - 테이블 통합, 분할, 중복테이블 추가





### 트랜잭션



- DB의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위
- COMMIT, ROLLBACK, SAVEPOINT

- 원자성(Atomicity) : DB에 반영하던지 안하던지
- 일관성(Consistency) : 일관성 있는 상태 유지
- 독립성(Isolation) : 둘 이상의 트랜잭션 동시 실행시 한개의 트랜잭션만 접근 가능
- 영속성(Durability) : 트랜잭션의 결과는 영구적



### 분산 데이터 베이스

- 논리적으로는 하나의 시스템이지만 물리적으로는 분산돼있는 DB
- 분산 처리기, 분산 데이터베이스, 통신 네트워크



목표

- 위치투명성 : DB의 실제 위치를 알 필요 없음
- 중복투명성 : 데이터가 중복되어있더라도 사용자는 하나만 존재하는것처럼 사용가능함
- 병행투명성 : 다수의 트랜잭션이 동시에 실현되더라도 결과는 영향을 받지 않음
- 분할투명성 : 하나의 릴레이션이 여러 단판으로 분할됨
- 장애투명성 : 장애가 발생해도 트랜잭션을 정확하게 처리하고 무결성을 보장함.



